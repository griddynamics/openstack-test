build_environment: 'master'
yum_repository: 'openstack-rhel'

cc_external_ip:
  &cc_ip_value 127.0.0.1

network_interface: eth0


compute_nodes:
 - localhost
 - *cc_ip_value



nova:
  rpm_packages: openstack-nova-node-full
  conf_file: /etc/nova/nova.conf

db:
  admin: root
  admin_pwd: nova
  name: nova
  user: nova
  password: nova

user:
  name: admin1

project:
  name: project1

network:
  cidr: 172.30.252.0/22
  nets: 1
  ips:  1024

image:
  path: images/ttylinux.tar.gz
  url: http://127.0.0.1/images/mini_image.tar.gz
  disk: root_fs.raw
  ram: initramfs-3.2.1.img
  kernel: vmlinuz-3.2.1-auto
  name: rhel_image

vm:
  user: root
  flavor: m1.small
  name: "rhel_instance1"
  boot_timeout: 180
  ping_deadline: 90
  keypair:
    name: test_key
    private: id_rsa_generated
    public:  id_rsa_generated.pub

vm2:
  user: root
  flavor: m1.small
  name: "rhel_instance2"
  boot_timeout: 180
  ping_deadline: 90
  keypair:
    name: test_key
    private: id_rsa_generated
    public:  id_rsa_generated.pub

openstack_services:
 - nova-api
 - nova-direct-api
 - nova-compute
 - nova-network
 - nova-scheduler
 - glance-api
 - glance-registry

supplementary_services:
 - rabbitmq-server
 - mysqld
 - libvirtd

test_prepequisites:
 - tar
 - grep
 - sed
 - gawk
 - unzip
 - openssh-clients
 - openssh
 - nc
 - wget
 - curl
 - nmap
 - pexpect

packages_to_install:
 - libvirt
 - mysql
 - mysql-server
 - rabbitmq-server
 - openstack-nova-node-full
 - MySQL-python
 - euca2ools

packages_to_clean:
 - django-file-upload
 - django-openstack
 - django-openstack-vnc
 - openstack-client
 - openstack-client-doc
 - openstack-compute
 - openstack-dashboard
 - openstack-glance
 - openstack-glance-doc
 - openstack-keystone
 - openstack-nova
 - openstack-nova-api
 - openstack-nova-cc-config
 - openstack-nova-compute
 - openstack-nova-compute-config
 - openstack-nova-doc
 - openstack-nova-instancemonitor
 - openstack-nova-network
 - openstack-nova-node-compute
 - openstack-nova-node-full
 - openstack-nova-noVNC
 - openstack-nova-objectstore
 - openstack-nova-scheduler
 - openstack-nova-volume
 - openstackx
 - python-glance
 - python-nova
 - python-novaclient
 - openstack-swift

dep_wildcards_to_clean:
 - '*qemu*'
 - '*libvirt*'
 - '*guestfs*'
 - '*openstack*'
 - '*nova*'
 - '*glance*'
 - '*swift*'
 - '*keystone*'
 - '*eventlet*'

processes_to_kill:
 - 'qemu-kvm'
 - 'dnsmasq'

state_files:
 - '/etc/libvirt'
 - '/var/lib/libvirt'
 - '/var/log/libvirt'
 - '/var/lib/keystone/keystone.{,token.}db'
 - '/var/log/keystone/'
 - '/var/lib/nova'
 - '/var/log/nova'
 - '/etc/nova'
 - '/var/lib/glance'
 - '/var/log/glance'
 - '/etc/glance'
 - '/var/log/rabbitmq/'
 - '/var/lib/rabbitmq/'
 - '/tmp/.guestfs*'
 - '/tmp/tmp*'

volume:
  source_dev:  '/dev/loop4'
  source_dev_file: '/tmp/loop4'
  source_dev_size: 4
  group: nova-volumes
  name:   vol
  dev:   '/dev/vdb'
  size: 1
  zone: nova
  timeout: 60
  attach_deadline: 60
  dir: '/tmp/nova-volume-test'

volume1:
  name:   vol1
  dev:   '/dev/vdc'
  size: 1
  zone: nova
  timeout: 60
  attach_deadline: 60


volume_packages:
 - scsi-target-utils
 - lvm2

volume_services1:
 - tgtd

volume_services2:
 - nova-volume
